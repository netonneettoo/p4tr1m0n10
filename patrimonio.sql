START_TRANSACTION;

CREATE DATABASE 'PATRIMONIO';

USE PATRIMONIO;

CREATE TABLE 'ANDAR' (
    ID INT UNSIGNED NOT NULL AUTO_INCREMENT PRIMARY KEY,
    ANDAR VARCHAR(45) NOT NULL,
    UNIQUE(ANDAR)
);

CREATE TABLE 'SALA' (
    ID INT UNSIGNED NOT NULL AUTO_INCREMENT PRIMARY KEY,
    SALA VARCHAR(255) NOT NULL,
    ANDAR INT UNSIGNED NOT NULL,
    CONSTRAINT 'FK_ANDAR_SALA' FOREIGN KEY (ANDAR) REFERENCES ANDAR (ID),
    UNIQUE(SALA)
);

CREATE TABLE 'BEM' (
    ID INT UNSIGNED NOT NULL AUTO_INCREMENT PRIMARY KEY,
    SAPIENS VARCHAR(13) NOT NULL,
    BEM VARCHAR(255) NOT NULL,
    UNIQUE(SAPIENS)
);

CREATE TABLE 'TOMBAMENTO' (
    ID INT UNSIGNED NOT NULL AUTO_INCREMENT PRIMARY KEY,
    PLAQUETA,
    SAPIENS,
    SALA,
    --
    UNIQUE(PLAQUETA),
    UNIQUE(SAPIENS)
);

COMMIT;
